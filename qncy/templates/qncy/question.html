{% extends "qncy/base.html" %}
{% load static %}

{% block head %}
<link rel="stylesheet" href="{% static 'css/question.css' %}">
{% endblock %}

{% block title %}{{ question.title }}{% endblock %}

{% block content %}
<h1 class="heading">{{ question.title }}</h1>

<div class="question-card">
    <div class="question-score">
        <button><svg aria-hidden="true"width="18" height="18" viewBox="0 0 18 18"><path d="M1 12h16L9 4z"></path></svg></button>
        {{ question.rating }}
        <button><svg aria-hidden="true"width="18" height="18" viewBox="0 0 18 18"><path d="M1 6h16l-8 8z"></path></svg></button>
    </div>
    <div class="question-info">
        <p>{{ question.content }}</p>
        <div class="question-footer">
            <span>Asked by <img src="{{ question.author.pfp_url }}"> {{ question.author.username }} </span>
            {% if question.tags.count %}
                <span>Tags: {% for tag in question.tags.all %}<a href="{% url 'qncy:tagged' tag.name %}">{{ tag.name }}</a> {% endfor %}</span>
            {% endif %}
        </div>
    </div>
</div>

<h2>Answers: {{ question.answers }}</h2>

{% if page_obj %}
    {% for answer in page_obj %}
        <div class="question-card">
            <div class="question-score">
                <button><svg aria-hidden="true"width="18" height="18" viewBox="0 0 18 18"><path d="M1 12h16L9 4z"></path></svg></button>
                {{ answer.rating }}
                <button><svg aria-hidden="true"width="18" height="18" viewBox="0 0 18 18"><path d="M1 6h16l-8 8z"></path></svg></button>
            </div>
            <div class="question-info">
                <p>{{ answer.content }}</p>
                <div class="question-footer">
                    <span>Answer by <img src="{{ answer.author.pfp_url }}"> {{ question.author.username }}</span>
                </div>
            </div>
        </div>
    {% endfor %}
{% else %}
    <p>Be the first to answer!</p>
{% endif %}

{% endblock %}